.multi-line-select .ant-select-selector {
  height: auto !important;
  min-height: 28px !important;
  padding: 1px 4px !important;
  border-width: 1px !important;
}

.multi-line-select .ant-select-selection-overflow {
  flex-wrap: wrap;
  max-height: none !important;
  overflow: auto !important;
  gap: 1px !important;
}

.multi-line-select .ant-select-selection-item {
  margin: 1px !important;
}

.multi-line-select .ant-select-selection-overflow-item {
  margin: 0 !important;
}

.multi-line-select .ant-select-selection-placeholder {
  font-size: 12px !important;
}

.multi-line-select .ant-select-selection-search {
  font-size: 12px !important;
}

.ant-select-dropdown {
  font-size: 12px !important;
  z-index: 10001 !important;
}

/* 确保Antd选择器正确处理键盘事件 */
.ant-select {
  outline: none !important;
}

.ant-select-dropdown.ant-slide-up-leave {
  display: none !important; /* 修复Escape后菜单动画问题 */
}

/* 高亮选中项的样式 */
.ant-select-item-option-active {
  background-color: #374151 !important;
}

.ant-select-item-option-selected {
  background-color: #4b5563 !important;
}

/* 自定义OptGroup标题样式 */
.ant-select-item-group .ant-select-item-group-title {
  display: flex !important;
  justify-content: space-between !important;
  align-items: center !important;
  padding-right: 8px !important;
}

/* 增强键盘导航的视觉反馈 */
.ant-select-item-option:focus {
  outline: 2px solid #6366f1 !important;
}

/* 优化键盘导航时的焦点显示 */
.ant-select-dropdown:focus-within {
  outline: none !important;
}

/* 确保选项可以接收焦点 */
.ant-select-item {
  cursor: pointer !important;
}

/* 当使用键盘导航时的高亮样式 */
.ant-select-item-option-active:not(.ant-select-item-option-disabled) {
  background-color: #4b5563 !important;
  color: white !important;
}

/* 为下拉菜单中的键盘聚焦选项添加样式 */
.keyboard-focused-option {
  background-color: rgba(79, 70, 229, 0.2) !important;
  border-left: 2px solid #6366f1 !important;
}

/* 确保 antd 的下拉菜单项不会被其他样式覆盖 */
.keyboard-navigation-dropdown .ant-select-item-option-active {
  background-color: rgba(55, 65, 81, 0.7) !important;
}

/* 当选项被键盘导航聚焦时的样式优先级更高 */
.keyboard-navigation-dropdown .ant-select-item-option-active.keyboard-focused-option {
  background-color: rgba(79, 70, 229, 0.3) !important;
}

/* 确保键盘导航的菜单项在鼠标悬停时有明显的样式区分 */
.keyboard-navigation-dropdown .ant-select-item:hover {
  background-color: rgba(55, 65, 81, 0.8) !important;
}

/* 当有键盘焦点时外框样式 */
.keyboard-navigation-select.ant-select-focused:not(.ant-select-disabled).ant-select:not(.ant-select-customize-input) .ant-select-selector {
  border-color: #6366f1 !important;
  box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2) !important;
}

/* 确保下拉菜单在全屏模式下也能显示 */
.dark-dropdown-menu.ant-select-dropdown {
  z-index: 10001 !important;
}

/* 全局提高Ant Select下拉菜单的层级 */
div[class^="ant-select-dropdown"] {
  z-index: 10001 !important;
} 